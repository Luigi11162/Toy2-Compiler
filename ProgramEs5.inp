% programma principale %
proc main():
    var operazione : string; \
    var input1, input2, answer : integer;\
    var flag ^= true;\
    var result : real;\

    while flag = true do
    <-- "Inserisci l'operazione da effettuare (somma, sottrazione, divisione, moltiplicazione)" $(operazione);
    <-- "Inserisci il primo input" $(input1);
    <-- "Inserisci il secondo input" $(input2);

    if operazione = "somma" then
        somma(input1, input2, @result);
    elseif operazione = "sottrazione" then
        sottrazione(input1, input2, @result);
    elseif operazione = "divisione" then
       result ^= divisione(input1, input2);
    elseif operazione = "moltiplicazione" then
       result ^= moltiplicazione(input1, input2);
    else
        result ^= 0.0;
        -->"Errore";
    endif;

    --> "Il risultato e':" $(risultato);
    <-- "Vuoi continuare? (1 yes/0 no)" $(answer);

    if answer = 1 then
        flag^=true;
    else
        flag ^= false;
    endif;

    endwhile;
endproc

proc somma(input1: integer, input2: integer, out result: real):
    result ^= input1 + input2;
endproc

proc sottrazione(input1: integer, input2: integer, out result : real):
    result ^= input1 - input2;
endproc

func moltiplicazione(input1: integer, input2: integer) -> real:
    var result : real;\
    result ^= input1 * input2;
    return result;
endfunc

func divisione(input1: integer, input2: integer) -> real:
    var result : real;\
    if input2 = 0 then
        --> "Errore";
        result ^= 0;
    else
        result ^= input1 / input2;
    endif;
    return result;
endfunc

